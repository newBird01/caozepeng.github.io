<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Dockerå®è·µ | æ›¹æ³½é¹çš„ç¬”è®°</title>
    <meta name="generator" content="VuePress 1.5.4">
    
    <meta name="description" content="æ›¹æ³½é¹è¯»ä¹¦ç¬”è®°,VUE,Vue,JS,REACT,React,TypeScript,TS,Node,NodeJs,Mongodb,Koa,ç®—æ³•">
    <link rel="preload" href="/assets/css/0.styles.0b41e04c.css" as="style"><link rel="preload" href="/assets/js/app.b7c38f08.js" as="script"><link rel="preload" href="/assets/js/2.1529f425.js" as="script"><link rel="preload" href="/assets/js/44.626a35fa.js" as="script"><link rel="prefetch" href="/assets/js/10.42c0a403.js"><link rel="prefetch" href="/assets/js/100.dd6b9460.js"><link rel="prefetch" href="/assets/js/101.45366740.js"><link rel="prefetch" href="/assets/js/102.85c0b7d4.js"><link rel="prefetch" href="/assets/js/103.2724108f.js"><link rel="prefetch" href="/assets/js/104.729c0361.js"><link rel="prefetch" href="/assets/js/105.b64368c2.js"><link rel="prefetch" href="/assets/js/106.f7f5bdf8.js"><link rel="prefetch" href="/assets/js/107.d8c84271.js"><link rel="prefetch" href="/assets/js/108.6c159c4f.js"><link rel="prefetch" href="/assets/js/109.e6a48ac5.js"><link rel="prefetch" href="/assets/js/11.b51773e0.js"><link rel="prefetch" href="/assets/js/110.f3a55cf4.js"><link rel="prefetch" href="/assets/js/111.8a3a1ce8.js"><link rel="prefetch" href="/assets/js/112.0629141f.js"><link rel="prefetch" href="/assets/js/113.08c5cbb8.js"><link rel="prefetch" href="/assets/js/114.ed3a9290.js"><link rel="prefetch" href="/assets/js/115.f2f0c063.js"><link rel="prefetch" href="/assets/js/116.9dec7673.js"><link rel="prefetch" href="/assets/js/117.f7683f8e.js"><link rel="prefetch" href="/assets/js/118.a9aad168.js"><link rel="prefetch" href="/assets/js/119.80da8753.js"><link rel="prefetch" href="/assets/js/12.4b8eb3d3.js"><link rel="prefetch" href="/assets/js/120.5bb570c6.js"><link rel="prefetch" href="/assets/js/121.9c732781.js"><link rel="prefetch" href="/assets/js/122.37399ad4.js"><link rel="prefetch" href="/assets/js/123.54ea0ea9.js"><link rel="prefetch" href="/assets/js/124.cbb620b4.js"><link rel="prefetch" href="/assets/js/125.262fea3a.js"><link rel="prefetch" href="/assets/js/126.312d7526.js"><link rel="prefetch" href="/assets/js/127.af7b135d.js"><link rel="prefetch" href="/assets/js/128.81474b1c.js"><link rel="prefetch" href="/assets/js/129.067ffe9e.js"><link rel="prefetch" href="/assets/js/13.463568d3.js"><link rel="prefetch" href="/assets/js/130.1a8ed9aa.js"><link rel="prefetch" href="/assets/js/131.e54f600a.js"><link rel="prefetch" href="/assets/js/132.80fdbed6.js"><link rel="prefetch" href="/assets/js/133.f2f1f770.js"><link rel="prefetch" href="/assets/js/134.899aa9ee.js"><link rel="prefetch" href="/assets/js/135.dbdea700.js"><link rel="prefetch" href="/assets/js/136.3cbc2880.js"><link rel="prefetch" href="/assets/js/137.3cf60ec2.js"><link rel="prefetch" href="/assets/js/138.2e07f970.js"><link rel="prefetch" href="/assets/js/139.9b54beee.js"><link rel="prefetch" href="/assets/js/14.34926e1f.js"><link rel="prefetch" href="/assets/js/140.33332ce2.js"><link rel="prefetch" href="/assets/js/141.41ae379d.js"><link rel="prefetch" href="/assets/js/142.1b38349c.js"><link rel="prefetch" href="/assets/js/143.0f6bafd1.js"><link rel="prefetch" href="/assets/js/144.d999ba2a.js"><link rel="prefetch" href="/assets/js/145.c7580892.js"><link rel="prefetch" href="/assets/js/146.730ed8a0.js"><link rel="prefetch" href="/assets/js/147.b6569dbd.js"><link rel="prefetch" href="/assets/js/148.3c5f039b.js"><link rel="prefetch" href="/assets/js/149.cb0e6b3a.js"><link rel="prefetch" href="/assets/js/15.e6cb1102.js"><link rel="prefetch" href="/assets/js/150.cd41c322.js"><link rel="prefetch" href="/assets/js/151.7c638710.js"><link rel="prefetch" href="/assets/js/152.bde4ffc3.js"><link rel="prefetch" href="/assets/js/153.1d9dba8d.js"><link rel="prefetch" href="/assets/js/154.c2447e59.js"><link rel="prefetch" href="/assets/js/155.0060c20b.js"><link rel="prefetch" href="/assets/js/156.141e24db.js"><link rel="prefetch" href="/assets/js/157.1838ab12.js"><link rel="prefetch" href="/assets/js/158.d2a5ba09.js"><link rel="prefetch" href="/assets/js/159.233b09c1.js"><link rel="prefetch" href="/assets/js/16.34af5885.js"><link rel="prefetch" href="/assets/js/160.21dd74c4.js"><link rel="prefetch" href="/assets/js/161.31adcb4c.js"><link rel="prefetch" href="/assets/js/162.29458eb6.js"><link rel="prefetch" href="/assets/js/163.2c5b117d.js"><link rel="prefetch" href="/assets/js/164.65205dd3.js"><link rel="prefetch" href="/assets/js/165.fc56891e.js"><link rel="prefetch" href="/assets/js/166.cdef32d5.js"><link rel="prefetch" href="/assets/js/167.cb5d067c.js"><link rel="prefetch" href="/assets/js/168.d1d46d26.js"><link rel="prefetch" href="/assets/js/169.a1df3822.js"><link rel="prefetch" href="/assets/js/17.1922a5a9.js"><link rel="prefetch" href="/assets/js/170.4fdd81ba.js"><link rel="prefetch" href="/assets/js/171.42751ce9.js"><link rel="prefetch" href="/assets/js/172.053f5b5e.js"><link rel="prefetch" href="/assets/js/173.fa5f3fd1.js"><link rel="prefetch" href="/assets/js/174.145726c1.js"><link rel="prefetch" href="/assets/js/175.d1169364.js"><link rel="prefetch" href="/assets/js/176.d2e197d8.js"><link rel="prefetch" href="/assets/js/177.75a688ba.js"><link rel="prefetch" href="/assets/js/178.3e665866.js"><link rel="prefetch" href="/assets/js/179.d4c8b18e.js"><link rel="prefetch" href="/assets/js/18.a534d3f6.js"><link rel="prefetch" href="/assets/js/180.40f44834.js"><link rel="prefetch" href="/assets/js/181.dcd4fca3.js"><link rel="prefetch" href="/assets/js/182.43a9b2b9.js"><link rel="prefetch" href="/assets/js/183.d1cdba97.js"><link rel="prefetch" href="/assets/js/184.e1e9f977.js"><link rel="prefetch" href="/assets/js/185.d5e2eac1.js"><link rel="prefetch" href="/assets/js/186.25f7b2ef.js"><link rel="prefetch" href="/assets/js/187.ead01fde.js"><link rel="prefetch" href="/assets/js/188.a5c2a1a5.js"><link rel="prefetch" href="/assets/js/189.d8c6ceac.js"><link rel="prefetch" href="/assets/js/19.7f0aecb7.js"><link rel="prefetch" href="/assets/js/190.4960b28d.js"><link rel="prefetch" href="/assets/js/191.71f6209c.js"><link rel="prefetch" href="/assets/js/192.562ea2dd.js"><link rel="prefetch" href="/assets/js/193.27c798e8.js"><link rel="prefetch" href="/assets/js/194.45c49a45.js"><link rel="prefetch" href="/assets/js/195.24b242c7.js"><link rel="prefetch" href="/assets/js/196.7edbfd9c.js"><link rel="prefetch" href="/assets/js/197.d2a7d540.js"><link rel="prefetch" href="/assets/js/198.70cf8a86.js"><link rel="prefetch" href="/assets/js/199.d06e7354.js"><link rel="prefetch" href="/assets/js/20.c894a016.js"><link rel="prefetch" href="/assets/js/200.24f7da25.js"><link rel="prefetch" href="/assets/js/201.1cf07cce.js"><link rel="prefetch" href="/assets/js/202.8b35d623.js"><link rel="prefetch" href="/assets/js/203.3751f5b3.js"><link rel="prefetch" href="/assets/js/21.afa72304.js"><link rel="prefetch" href="/assets/js/22.c800d9f1.js"><link rel="prefetch" href="/assets/js/23.3fe1b7a4.js"><link rel="prefetch" href="/assets/js/24.f67e9e6b.js"><link rel="prefetch" href="/assets/js/25.ec84c072.js"><link rel="prefetch" href="/assets/js/26.d9381a73.js"><link rel="prefetch" href="/assets/js/27.22e60d71.js"><link rel="prefetch" href="/assets/js/28.1124b316.js"><link rel="prefetch" href="/assets/js/29.89e2208a.js"><link rel="prefetch" href="/assets/js/3.8dd7dc7e.js"><link rel="prefetch" href="/assets/js/30.d9ebbe50.js"><link rel="prefetch" href="/assets/js/31.30ac294f.js"><link rel="prefetch" href="/assets/js/32.f95da093.js"><link rel="prefetch" href="/assets/js/33.f1577f32.js"><link rel="prefetch" href="/assets/js/34.077e3611.js"><link rel="prefetch" href="/assets/js/35.6932308f.js"><link rel="prefetch" href="/assets/js/36.c7de788f.js"><link rel="prefetch" href="/assets/js/37.0fb4d2b9.js"><link rel="prefetch" href="/assets/js/38.0d1dcc41.js"><link rel="prefetch" href="/assets/js/39.6157fc25.js"><link rel="prefetch" href="/assets/js/4.1c8fba0b.js"><link rel="prefetch" href="/assets/js/40.8537864f.js"><link rel="prefetch" href="/assets/js/41.b335bc8a.js"><link rel="prefetch" href="/assets/js/42.67f01c2b.js"><link rel="prefetch" href="/assets/js/43.e72d2f3e.js"><link rel="prefetch" href="/assets/js/45.d800497a.js"><link rel="prefetch" href="/assets/js/46.391eb797.js"><link rel="prefetch" href="/assets/js/47.5b3a9384.js"><link rel="prefetch" href="/assets/js/48.9f8a7617.js"><link rel="prefetch" href="/assets/js/49.c9b47907.js"><link rel="prefetch" href="/assets/js/5.7a3c9d57.js"><link rel="prefetch" href="/assets/js/50.9d156bb7.js"><link rel="prefetch" href="/assets/js/51.ced7f870.js"><link rel="prefetch" href="/assets/js/52.d2c020c4.js"><link rel="prefetch" href="/assets/js/53.3a856055.js"><link rel="prefetch" href="/assets/js/54.0564daa5.js"><link rel="prefetch" href="/assets/js/55.520000e4.js"><link rel="prefetch" href="/assets/js/56.c78324d0.js"><link rel="prefetch" href="/assets/js/57.53a76d96.js"><link rel="prefetch" href="/assets/js/58.7922497d.js"><link rel="prefetch" href="/assets/js/59.f55030cf.js"><link rel="prefetch" href="/assets/js/6.b32843ea.js"><link rel="prefetch" href="/assets/js/60.4822a909.js"><link rel="prefetch" href="/assets/js/61.e4902fb5.js"><link rel="prefetch" href="/assets/js/62.8420781e.js"><link rel="prefetch" href="/assets/js/63.6236850d.js"><link rel="prefetch" href="/assets/js/64.fba5fc4b.js"><link rel="prefetch" href="/assets/js/65.62670893.js"><link rel="prefetch" href="/assets/js/66.78024539.js"><link rel="prefetch" href="/assets/js/67.e2398534.js"><link rel="prefetch" href="/assets/js/68.fc7be37d.js"><link rel="prefetch" href="/assets/js/69.57c48f34.js"><link rel="prefetch" href="/assets/js/7.61807328.js"><link rel="prefetch" href="/assets/js/70.a80f6cc6.js"><link rel="prefetch" href="/assets/js/71.d2383845.js"><link rel="prefetch" href="/assets/js/72.252a0b4d.js"><link rel="prefetch" href="/assets/js/73.9ec3eaa3.js"><link rel="prefetch" href="/assets/js/74.33d7bd89.js"><link rel="prefetch" href="/assets/js/75.03894e2c.js"><link rel="prefetch" href="/assets/js/76.538fd26d.js"><link rel="prefetch" href="/assets/js/77.4982b765.js"><link rel="prefetch" href="/assets/js/78.d05d7bb2.js"><link rel="prefetch" href="/assets/js/79.028480b7.js"><link rel="prefetch" href="/assets/js/8.b5970ca7.js"><link rel="prefetch" href="/assets/js/80.36415a4d.js"><link rel="prefetch" href="/assets/js/81.e565708e.js"><link rel="prefetch" href="/assets/js/82.64fbebe3.js"><link rel="prefetch" href="/assets/js/83.8d82fab9.js"><link rel="prefetch" href="/assets/js/84.e6943fac.js"><link rel="prefetch" href="/assets/js/85.e08cedea.js"><link rel="prefetch" href="/assets/js/86.89e69614.js"><link rel="prefetch" href="/assets/js/87.b525ae71.js"><link rel="prefetch" href="/assets/js/88.c741a786.js"><link rel="prefetch" href="/assets/js/89.92204b26.js"><link rel="prefetch" href="/assets/js/9.4ee473c5.js"><link rel="prefetch" href="/assets/js/90.de9d6d60.js"><link rel="prefetch" href="/assets/js/91.2aa8ae04.js"><link rel="prefetch" href="/assets/js/92.414b8f5c.js"><link rel="prefetch" href="/assets/js/93.7a21c53b.js"><link rel="prefetch" href="/assets/js/94.7ea8cb1e.js"><link rel="prefetch" href="/assets/js/95.e1a3ae2e.js"><link rel="prefetch" href="/assets/js/96.64361a39.js"><link rel="prefetch" href="/assets/js/97.4b879283.js"><link rel="prefetch" href="/assets/js/98.016cfc5d.js"><link rel="prefetch" href="/assets/js/99.b635ee69.js">
    <link rel="stylesheet" href="/assets/css/0.styles.0b41e04c.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">æ›¹æ³½é¹çš„ç¬”è®°</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">
  é¦–é¡µ
</a></div><div class="nav-item"><a href="tel:13545253491" class="nav-link external">
  è”ç³»æˆ‘
  <!----></a></div><div class="nav-item"><a href="/view/Vue/" class="nav-link">
  VUE
</a></div><div class="nav-item"><a href="/view/Vue3.0/" class="nav-link">
  VUE3.0
</a></div><div class="nav-item"><a href="/view/Other/16.html" class="nav-link">
  ç½‘ç«™åˆ†ç±»
</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">
  é¦–é¡µ
</a></div><div class="nav-item"><a href="tel:13545253491" class="nav-link external">
  è”ç³»æˆ‘
  <!----></a></div><div class="nav-item"><a href="/view/Vue/" class="nav-link">
  VUE
</a></div><div class="nav-item"><a href="/view/Vue3.0/" class="nav-link">
  VUE3.0
</a></div><div class="nav-item"><a href="/view/Other/16.html" class="nav-link">
  ç½‘ç«™åˆ†ç±»
</a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><a href="/view/Vue/" class="sidebar-heading clickable"><span>Vue</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/view/Vue3.0/" class="sidebar-heading clickable"><span>Vue3.0</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/view/Webpack/" class="sidebar-heading clickable"><span>Webpack</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/view/TS/" class="sidebar-heading clickable"><span>TS</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/view/JS/" class="sidebar-heading clickable"><span>JS</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/view/Nodejs/" class="sidebar-heading clickable"><span>Node</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/view/DesignPattern/" class="sidebar-heading clickable"><span>è®¾è®¡æ¨¡å¼</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/view/Algorithm/" class="sidebar-heading clickable"><span>ç®—æ³•</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/view/Linux/" class="sidebar-heading clickable"><span>Linux</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/view/Docker/" class="sidebar-heading clickable router-link-active open"><span>Docker</span> <span class="arrow down"></span></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/view/Docker/1.html" class="sidebar-link">æ‰‹æ‘¸æ‰‹ Docker ä»å…¥é—¨åˆ°å®è·µ</a></li><li><a href="/view/Docker/2.html" aria-current="page" class="active sidebar-link">Dockerå®è·µ</a></li><li><a href="/view/Docker/3.html" class="sidebar-link">Docker æ„å»ºnodeæœåŠ¡</a></li><li><a href="/view/Docker/4.html" class="sidebar-link">Docker+ webhookè‡ªåŠ¨åŒ–éƒ¨ç½²</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/view/Http/" class="sidebar-heading clickable"><span>Httpåè®®</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/view/MongoDB/" class="sidebar-heading clickable"><span>MongoDBæ•°æ®åº“</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/view/MiniApp/" class="sidebar-heading clickable"><span>å°ç¨‹åº</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/view/Git/" class="sidebar-heading clickable"><span>Git</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/view/Css/" class="sidebar-heading clickable"><span>Css</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/view/Less/" class="sidebar-heading clickable"><span>Less</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/view/Scss/" class="sidebar-heading clickable"><span>Scss</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/view/Vscode/" class="sidebar-heading clickable"><span>Vs Code æ’ä»¶</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/view/Other/" class="sidebar-heading clickable"><span>æ‚è®°</span> <span class="arrow right"></span></a> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="dockerå®è·µ"><a href="#dockerå®è·µ" class="header-anchor">#</a> Dockerå®è·µ</h1> <h2 id="å¼€å§‹ä½¿ç”¨"><a href="#å¼€å§‹ä½¿ç”¨" class="header-anchor">#</a> å¼€å§‹ä½¿ç”¨</h2> <h3 id="å¼€å¯docker"><a href="#å¼€å¯docker" class="header-anchor">#</a> å¼€å¯docker</h3> <p>æ‰§è¡Œ <code>docker run -dp 80:80 docker/getting-started</code> è¿è¡Œä¸€ä¸ªå®¹å™¨</p> <h3 id="docker-é¢æ¿"><a href="#docker-é¢æ¿" class="header-anchor">#</a> Docker é¢æ¿</h3> <p>å¯è§†åŒ–Dockerç®¡ç†ï¼Œæ‰“å¼€è¯¥é¢æ¿å³å¯çœ‹åˆ°æˆ‘ä»¬åˆšå¯åŠ¨çš„å®¹å™¨</p> <h3 id="ä»€ä¹ˆæ˜¯å®¹å™¨"><a href="#ä»€ä¹ˆæ˜¯å®¹å™¨" class="header-anchor">#</a> ä»€ä¹ˆæ˜¯å®¹å™¨</h3> <p>å®¹å™¨åªæ˜¯è®¡ç®—æœºä¸Šçš„å¦ä¸€ä¸ªè¿›ç¨‹ï¼Œå·²ä¸ä¸»æœºä¸Šçš„æ‰€æœ‰å…¶ä»–è¿›ç¨‹éš”ç¦»ã€‚è¿™ç§éš”ç¦»åˆ©ç”¨äº†Linuxä¸Šå·²æœ‰å¾ˆé•¿æ—¶é—´çš„å†…æ ¸åç§°ç©ºé—´å’Œcgroupã€‚</p> <h3 id="ä»€ä¹ˆæ˜¯å®¹å™¨é•œåƒ"><a href="#ä»€ä¹ˆæ˜¯å®¹å™¨é•œåƒ" class="header-anchor">#</a> ä»€ä¹ˆæ˜¯å®¹å™¨é•œåƒ</h3> <p>è¿è¡Œå®¹å™¨æ—¶ï¼Œå®ƒä½¿ç”¨éš”ç¦»çš„æ–‡ä»¶ç³»ç»Ÿã€‚æ­¤è‡ªå®šä¹‰æ–‡ä»¶ç³»ç»Ÿç”±å®¹å™¨æ˜ åƒæä¾›ã€‚ç”±äºæ˜ åƒåŒ…å«å®¹å™¨çš„æ–‡ä»¶ç³»ç»Ÿï¼Œ
å› æ­¤å®ƒå¿…é¡»åŒ…å«è¿è¡Œåº”ç”¨ç¨‹åºæ‰€éœ€çš„æ‰€æœ‰å†…å®¹-æ‰€æœ‰ä¾èµ–é¡¹ï¼Œé…ç½®ï¼Œè„šæœ¬ï¼ŒäºŒè¿›åˆ¶æ–‡ä»¶ç­‰ã€‚
è¯¥æ˜ åƒè¿˜åŒ…å«å®¹å™¨çš„å…¶ä»–é…ç½®ï¼Œä¾‹å¦‚ç¯å¢ƒå˜é‡ï¼Œè¦è¿è¡Œçš„é»˜è®¤å‘½ä»¤å’Œå…¶ä»–å…ƒæ•°æ®ã€‚</p> <h2 id="æˆ‘ä»¬çš„åº”ç”¨"><a href="#æˆ‘ä»¬çš„åº”ç”¨" class="header-anchor">#</a> æˆ‘ä»¬çš„åº”ç”¨</h2> <h3 id="è·å–-appæºç "><a href="#è·å–-appæºç " class="header-anchor">#</a> è·å– Appæºç </h3> <p><a href="http://localhost/assets/app.zip" target="_blank" rel="noopener noreferrer">ç‚¹å‡»ä¸‹è½½<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>ï¼Œä¸‹è½½å®Œæˆåè§£å‹å¹¶æ‰“å¼€</p> <h3 id="æ„å»ºapp-å®¹å™¨é•œåƒ"><a href="#æ„å»ºapp-å®¹å™¨é•œåƒ" class="header-anchor">#</a> æ„å»ºAPP å®¹å™¨é•œåƒ</h3> <p>åœ¨ä¸Šä¸€æ­¥è·å–çš„æºç çš„<code>app</code>ç›®å½•é‡Œï¼Œæ–°å»º <code>Dockerfile</code>æ–‡ä»¶ï¼Œè¾“å…¥ä¸‹é¢å†…å®¹</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token constant">FROM</span> node<span class="token operator">:</span><span class="token number">12</span><span class="token operator">-</span>alpine
<span class="token constant">WORKDIR</span> <span class="token operator">/</span>app
<span class="token constant">COPY</span> <span class="token punctuation">.</span> <span class="token punctuation">.</span>
<span class="token constant">RUN</span> yarn install <span class="token operator">--</span>production
<span class="token constant">CMD</span> <span class="token punctuation">[</span><span class="token string">&quot;node&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;src/index.js&quot;</span><span class="token punctuation">]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>åˆ‡æ¢åˆ°<code>app</code>ç›®å½•ä¸‹ ï¼Œè¾“å…¥ä¸‹é¢å‘½ä»¤å¼€å§‹æ„å»ºé•œåƒ</p> <p><code>docker build -t getting-started .</code></p> <p><code>-t</code> ç»™é•œåƒæ‰“ä¸Šæ ‡ç­¾ï¼Œ<code>.</code> ç¬¦å·ï¼Œè¡¨ç¤ºå»å½“å‰ç›®å½•æ‰¾Dockerfile</p> <h3 id="å¼€å¯ä¸€ä¸ªappå®¹å™¨"><a href="#å¼€å¯ä¸€ä¸ªappå®¹å™¨" class="header-anchor">#</a> å¼€å¯ä¸€ä¸ªAppå®¹å™¨</h3> <p>æ‰§è¡Œä¸‹é¢å‘½åå¼€å¯ä¸€ä¸ªå®¹å™¨ï¼Œç”¨æˆ‘ä»¬åˆšåˆšæ‰“çš„é•œåƒ<code>getting-started</code></p> <p><code>docker run -dp 3000:3000 getting-started</code></p> <ol><li>-d, åœ¨åå°è¿è¡Œ detached</li> <li>-p 3000:3000 åœ¨ä¸»æœºçš„ç«¯å£3000åˆ°å®¹å™¨çš„ç«¯å£3000ä¹‹é—´åˆ›å»ºæ˜ å°„ã€‚</li></ol> <p>å½“æ§åˆ¶å°æˆåŠŸè¾“å‡ºå®¹å™¨idçš„æ—¶å€™ï¼Œæ‰“å¼€æµè§ˆå™¨http://localhost:3000/,å°±å¯ä»¥çœ‹åˆ°æˆ‘ä»¬çš„åº”ç”¨ã€‚</p> <h2 id="æ›´æ–°å®¹å™¨"><a href="#æ›´æ–°å®¹å™¨" class="header-anchor">#</a> æ›´æ–°å®¹å™¨</h2> <p>éœ€è¦æˆ‘ä»¬çš„åº”ç”¨åœ¨æ²¡æœ‰æ•°æ®çš„æ—¶å€™æç¤º <code>You have no todo items yet! Add one above!</code></p> <h3 id="æ›´æ–°ä»£ç "><a href="#æ›´æ–°ä»£ç " class="header-anchor">#</a> æ›´æ–°ä»£ç </h3> <ol><li>æŠŠ <code>src/static/js/app.js</code> çš„56è¡Œ æ”¹ä¸º <code>&lt;p className=&quot;text-center&quot;&gt;No items yet! Add one above!&lt;/p&gt;</code></li> <li>é‡æ–°æ„å»ºé•œåƒï¼Œ<code>docker build -t getting-started .</code></li> <li>å¯åŠ¨æ–°å®¹å™¨,<code>docker run -dp 3000:3000 getting-started</code>ï¼Œæ­¤æ—¶å‘ç°æŠ¥é”™</li></ol> <div class="language-js line-numbers-mode"><pre class="language-js"><code>docker<span class="token operator">:</span> Error response <span class="token keyword">from</span> daemon<span class="token operator">:</span> driver failed programming external connectivity on endpoint <span class="token function">heuristic_greider</span> <span class="token punctuation">(</span>cea4c33d11e0f8f1ca148c145dd24b986fcfdaacf9e03957e58072522ee4bfbb<span class="token punctuation">)</span><span class="token operator">:</span> Bind <span class="token keyword">for</span> <span class="token number">0.0</span><span class="token number">.0</span><span class="token number">.0</span><span class="token operator">:</span><span class="token number">3000</span> failed<span class="token operator">:</span> port is already allocated<span class="token punctuation">.</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="æ›¿æ¢æˆ‘ä»¬çš„æ—§å®¹å™¨"><a href="#æ›¿æ¢æˆ‘ä»¬çš„æ—§å®¹å™¨" class="header-anchor">#</a> æ›¿æ¢æˆ‘ä»¬çš„æ—§å®¹å™¨</h3> <p>ç§»é™¤ä¸€ä¸ªå®¹å™¨ï¼Œéœ€è¦å…ˆæŠŠä»–åœæ­¢ï¼Œä¸€æ—¦å®¹å™¨è¢«åœæ­¢äº†ï¼Œä»–å°±å¯ä»¥è¢«ç§»é™¤äº†ã€‚æœ‰ä¸¤ç§ç§»é™¤æ–¹å¼ï¼š</p> <ol><li>ä½¿ç”¨Docker CLI ç§»é™¤</li></ol> <ul><li><code>docker ps</code> è·å–å®¹å™¨id</li> <li><code>docker stop &lt;the-container-id&gt;</code> åœæ­¢å®¹å™¨</li> <li><code>docker rm &lt;the-container-id&gt;</code> ç§»é™¤å®¹å™¨</li> <li><code>docker rm -f &lt;the-container-id&gt;</code> ä¸éœ€è¦åœæ­¢ï¼Œå¼ºåˆ¶åˆ é™¤</li></ul> <ol start="2"><li>ä½¿ç”¨Dockerå¯è§†åŒ–å·¥å…·åˆ é™¤</li></ol> <h3 id="æ–°å»ºå®¹å™¨"><a href="#æ–°å»ºå®¹å™¨" class="header-anchor">#</a> æ–°å»ºå®¹å™¨</h3> <p>åˆ é™¤æˆ‘ä»¬çš„æ—§å®¹å™¨åï¼Œæ‰§è¡Œ <code>docker run -dp 3000:3000 getting-started</code>æ–°å»ºå®¹å™¨ï¼Œåˆ·æ–° http://localhost:3000/</p> <h2 id="åˆ†äº«å®¹å™¨"><a href="#åˆ†äº«å®¹å™¨" class="header-anchor">#</a> åˆ†äº«å®¹å™¨</h2> <p>è¦å…±äº«å®¹å™¨ï¼Œéœ€è¦ä½¿ç”¨<code>Docker registry</code>,é»˜è®¤ä½¿ç”¨çš„æ˜¯<a href="https://hub.docker.com/" target="_blank" rel="noopener noreferrer"> Docker Hub <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <h3 id="åˆ›å»ºä¸€ä¸ªä»“åº“"><a href="#åˆ›å»ºä¸€ä¸ªä»“åº“" class="header-anchor">#</a> åˆ›å»ºä¸€ä¸ªä»“åº“</h3> <ol><li>ç™»å½• Docker Hub</li> <li>ç‚¹å‡»Create Repository æŒ‰é’®</li> <li>è¾“å…¥getting-started-xxxï¼Œæ¯”å¦‚æˆ‘è¾“å…¥äº† getting-started-czp</li> <li>ç‚¹å‡»Create</li></ol> <h3 id="æ¨é€é•œåƒåˆ°è¿œç¨‹ä»“åº“"><a href="#æ¨é€é•œåƒåˆ°è¿œç¨‹ä»“åº“" class="header-anchor">#</a> æ¨é€é•œåƒåˆ°è¿œç¨‹ä»“åº“</h3> <p>æ²¡æœ‰tag</p> <ol><li>docker login -u YOUR-USER-NAME. ç™»å½•Docker Hub</li> <li>docker tag getting-started YOUR-USER-NAME/getting-started-czp. ã€docker tag æœ¬åœ°é•œåƒæº è¿œç¨‹é•œåƒä»“åº“ã€‘ã€‚ è¿œç¨‹æ²¡æœ‰çš„æ—¶å€™ä¼šè‡ªåŠ¨åˆ›å»º</li> <li>docker push YOUR-USER-NAME/getting-started-czp</li></ol> <p>éœ€è¦tag</p> <ol><li>docker login -u YOUR-USER-NAME. ç™»å½•Docker Hub</li> <li>docker tag getting-started YOUR-USER-NAME/getting-started-czp:test.</li> <li>docker push YOUR-USER-NAME/getting-started-czp:tset</li></ol> <h3 id="æµ‹è¯•æˆ‘ä»¬çš„é•œåƒ"><a href="#æµ‹è¯•æˆ‘ä»¬çš„é•œåƒ" class="header-anchor">#</a> æµ‹è¯•æˆ‘ä»¬çš„é•œåƒ</h3> <ol><li><a href="https://labs.play-with-docker.com/" target="_blank" rel="noopener noreferrer">ç‚¹å‡»æ‰“å¼€æµ‹è¯•åœ°å€<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li>ä½¿ç”¨ Docker Hub è´¦æˆ·ç™»å½•</li> <li>ç‚¹å‡» ADD NEW INSTANCE</li> <li>docker run -dp 3000:3000 YOUR-USER-NAME/getting-started-czp</li> <li>ç‚¹å‡» 3000ç«¯å£å·ï¼Œå°±ä¼šæ‰“å¼€åˆšå¯åŠ¨çš„DockeræœåŠ¡ã€‚</li></ol> <h2 id="æ•°æ®æŒä¹…åŒ–"><a href="#æ•°æ®æŒä¹…åŒ–" class="header-anchor">#</a> æ•°æ®æŒä¹…åŒ–</h2> <h3 id="å®¹å™¨çš„æ–‡ä»¶ç³»ç»Ÿ"><a href="#å®¹å™¨çš„æ–‡ä»¶ç³»ç»Ÿ" class="header-anchor">#</a> å®¹å™¨çš„æ–‡ä»¶ç³»ç»Ÿ</h3> <p>å½“å®¹å™¨è¿è¡Œçš„æ—¶å€™ï¼Œå®ƒä½¿ç”¨é•œåƒä¸­çš„å„ä¸ªå±‚ä½œä¸ºå…¶æ–‡ä»¶ç³»ç»Ÿã€‚æ¯ä¸ªå®¹å™¨è¿˜æ‹¥æœ‰è‡ªå·±çš„â€œæš‚å­˜ç©ºé—´â€ä»¥åˆ›å»º/æ›´æ–°/åˆ é™¤æ–‡ä»¶ã€‚
å³ä½¿ä½¿ç”¨ç›¸åŒçš„é•œåƒï¼Œä¹Ÿä¸ä¼šåœ¨å…¶ä»–å®¹å™¨ä¸­çœ‹åˆ°ä»»ä½•æ›´æ”¹ã€‚</p> <h4 id="ç®€å•æ¡ˆä¾‹"><a href="#ç®€å•æ¡ˆä¾‹" class="header-anchor">#</a> ç®€å•æ¡ˆä¾‹</h4> <ol><li>æ‰§è¡Œ <code>docker run -d ubuntu bash -c &quot;shuf -i 1-10000 -n 1 -o /data.txt &amp;&amp; tail -f /dev/null&quot;</code></li></ol> <p><code>shuf -i 1-10000 -n 1 -o /data.txt</code> è¾“å‡ºä¸€ä¸ª 1-10000çš„éšæœºæ•°åˆ° data.txt</p> <p><code>tail -f /dev/null</code> è¿™ä¸ªå‘½ä»¤æ˜¯æŒç»­è¾“å‡ºï¼Œä¿æŒå®¹å™¨è¿è¡Œ</p> <ol start="2"><li>åœ¨ Docker å¯è§†åŒ–å·¥å…·ä¸­æ‰“å¼€åˆšåˆšå¯åŠ¨çš„ubuntuã€‚æ‰§è¡Œ<code>cat /data.txt</code>ï¼Œ å¯ä»¥çœ‹åˆ°<code>data.txt</code>çš„æ•°æ®</li></ol> <p>æˆ–è€…ç›´æ¥æ‰§è¡Œ <code>docker exec &lt;container-id&gt; cat /data.txt</code>ï¼Œä¹Ÿå¯ä»¥çœ‹åˆ°æ•°æ®</p> <ol start="3"><li><p>æˆ‘ä»¬å¼€å¯ä¸€ä¸ªæ–°çš„å®¹å™¨ <code>docker run -it ubuntu ls /</code>å¹¶æŸ¥çœ‹æ–‡ä»¶ç³»ç»Ÿï¼Œæ­¤æ—¶æœªå‘ç°<code>data.txt</code></p></li> <li><p>ç§»é™¤ç¬¬ä¸€ä¸ªubuntu å®¹å™¨ ï¼Œ<code>docker rm -f 32031d768702</code></p></li></ol> <h3 id="å®¹å™¨å·-container-volumes"><a href="#å®¹å™¨å·-container-volumes" class="header-anchor">#</a> å®¹å™¨å· Container Volumes</h3> <ol><li>åˆ›å»ºå®¹å™¨å·<code>docker volume create todo-db</code></li> <li>ç§»é™¤å­˜åœ¨çš„todo-listå®¹å™¨ <code>docker rm -f &lt;id&gt;</code></li> <li>å¼€å¯æ–°å®¹å™¨ï¼Œå¹¶åŠ å…¥<code>-v</code> å‚æ•°ï¼Œ <code>docker run -dp 3000:3000 -v todo-db:/etc/todos getting-started</code></li> <li>æ‰“å¼€<code>http://localhost:3000/</code>æ–°å¢å‡ ä¸ªtodo-item</li> <li>ä½¿ç”¨ <code>docker ps</code>è·å–æ‰€æœ‰å®¹å™¨idï¼Œä½¿ç”¨ <code>docker rm -f &lt;id&gt;</code>åˆ é™¤å®¹å™¨</li> <li>ä½¿ç”¨ç¬¬3æ¡å‘½ä»¤å†æ¬¡æ‰§è¡Œ</li></ol> <h3 id="æ·±å…¥æ¢è®¨"><a href="#æ·±å…¥æ¢è®¨" class="header-anchor">#</a> æ·±å…¥æ¢è®¨</h3> <p>ä½¿ç”¨<code>docker volume inspect todo-db</code> æŸ¥çœ‹Dockerå®é™…ä¸Šå°†æ•°æ®å­˜å‚¨åœ¨å“ªé‡Œ</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
        <span class="token string">&quot;CreatedAt&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2021-02-02T08:28:44Z&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;Driver&quot;</span><span class="token operator">:</span> <span class="token string">&quot;local&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;Labels&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token string">&quot;Mountpoint&quot;</span><span class="token operator">:</span> <span class="token string">&quot;/var/lib/docker/volumes/todo-db/_data&quot;</span><span class="token punctuation">,</span> ç£ç›˜ä¸Šå­˜å‚¨æ•°æ®çš„å®é™…ä½ç½®
        <span class="token string">&quot;Name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;todo-db&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;Options&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token string">&quot;Scope&quot;</span><span class="token operator">:</span> <span class="token string">&quot;local&quot;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">]</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><h2 id="ä½¿ç”¨ç»‘å®šå®‰è£…"><a href="#ä½¿ç”¨ç»‘å®šå®‰è£…" class="header-anchor">#</a> ä½¿ç”¨ç»‘å®šå®‰è£…</h2> <p>ä½¿ç”¨ç»‘å®šå®‰è£…ï¼Œæˆ‘ä»¬å¯ä»¥æ§åˆ¶ä¸»æœºä¸Šçš„ç¡®åˆ‡å®‰è£…ç‚¹ã€‚
æˆ‘ä»¬å¯ä»¥ä½¿ç”¨å®ƒæ¥ä¿ç•™æ•°æ®ï¼Œä½†é€šå¸¸ç”¨äºå‘å®¹å™¨ä¸­æä¾›å…¶ä»–æ•°æ®ã€‚
åœ¨å¤„ç†åº”ç”¨ç¨‹åºæ—¶ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ç»‘å®šæŒ‚è½½å°†æºä»£ç æŒ‚è½½åˆ°å®¹å™¨ä¸­ï¼Œä»¥ä½¿å…¶æŸ¥çœ‹ä»£ç æ›´æ”¹ï¼Œå“åº”å¹¶ç«‹å³æŸ¥çœ‹æ›´æ”¹ã€‚</p> <h3 id="å¿«é€Ÿå·ç±»å‹æ¯”è¾ƒ"><a href="#å¿«é€Ÿå·ç±»å‹æ¯”è¾ƒ" class="header-anchor">#</a> å¿«é€Ÿå·ç±»å‹æ¯”è¾ƒ</h3> <p>ç»‘å®šå®‰è£…å’Œå‘½åå·æ˜¯Dockerå¼•æ“éšé™„çš„ä¸¤ç§ä¸»è¦å·ç±»å‹ã€‚ä½†æ˜¯ï¼Œå¯ä»¥ä½¿ç”¨å…¶ä»–å·é©±åŠ¨ç¨‹åºæ¥æ”¯æŒå…¶ä»–ç”¨ä¾‹ï¼ˆSFTPï¼ŒCephï¼ŒNetAppï¼ŒS3ç­‰ï¼‰</p> <h3 id="å¼€å§‹ä¸€ä¸ªå¼€å‘ç¯å¢ƒä¸‹çš„å®¹å™¨"><a href="#å¼€å§‹ä¸€ä¸ªå¼€å‘ç¯å¢ƒä¸‹çš„å®¹å™¨" class="header-anchor">#</a> å¼€å§‹ä¸€ä¸ªå¼€å‘ç¯å¢ƒä¸‹çš„å®¹å™¨</h3> <ol><li>æŠŠæºç æŒ‚è½½åœ¨å®¹å™¨é‡Œ</li> <li>å®‰è£…æ‰€æœ‰ä¾èµ–ï¼ŒåŒ…æ‹¬å¼€å‘ä¾èµ–</li> <li>å¯åŠ¨nodemon æ£€æµ‹æ–‡ä»¶æ”¹åŠ¨</li></ol> <p>å¼€å§‹é…ç½®ç¯å¢ƒ</p> <ol><li>æ‰§è¡Œä¸‹åˆ—ä»£ç </li></ol> <div class="language-js line-numbers-mode"><pre class="language-js"><code>docker run <span class="token operator">-</span>dp <span class="token number">3000</span><span class="token operator">:</span><span class="token number">3000</span> \
    <span class="token operator">-</span>w <span class="token operator">/</span>app <span class="token operator">-</span>v <span class="token string">&quot;$(pwd):/app&quot;</span> \
    node<span class="token operator">:</span><span class="token number">12</span><span class="token operator">-</span>alpine \
    sh <span class="token operator">-</span>c <span class="token string">&quot;yarn install &amp;&amp; yarn run dev&quot;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><ul><li>-dp 3000:3000 åœ¨åå°æ¨¡å¼ä¸‹è¿è¡Œå¹¶åˆ›å»ºç«¯å£æ˜ å°„</li> <li>-w /app è®¾ç½®å‘½ä»¤çš„â€œå·¥ä½œç›®å½•â€æˆ–å½“å‰ç›®å½•</li> <li>-v &quot;$(pwd):/app&quot; ä»å®¹å™¨ä¸­çš„ä¸»æœºå°†å½“å‰ç›®å½•ç»‘å®šæŒ‚è½½åˆ°/ appç›®å½•ä¸­</li> <li>node:12-alpine å’Œæˆ‘ä»¬Dockerfile é…ç½®çš„ ä¸€æ ·</li> <li>sh -c &quot;yarn install &amp;&amp; yarn run dev&quot; å®‰è£…å¼€å‘ä¾èµ–å¹¶å¯åŠ¨æœåŠ¡</li></ul> <ol start="2"><li>æŸ¥çœ‹dockerè¾“å‡ºæ—¥å¿— <code>docker logs -f --tail=10 &lt;container-id&gt;</code></li> <li>ä¿®æ”¹ <code>src/static/js/app.js</code>æ–‡ä»¶çš„ <code>{submitting ? 'Adding...' : 'Add Item'}</code> ä¸º<code>{submitting ? 'Adding...' : 'Add'}</code></li> <li>åˆ·æ–°æµè§ˆå™¨å¯ä»¥çœ‹åˆ°æŒ‰é’®å˜äº†ã€‚</li> <li>é‡æ–°æ„å»ºé•œåƒ  <code>docker build -t getting-started .</code></li></ol> <h2 id="å¤šå®¹å™¨è¿è¡Œ"><a href="#å¤šå®¹å™¨è¿è¡Œ" class="header-anchor">#</a> å¤šå®¹å™¨è¿è¡Œ</h2> <p>å½“æˆ‘ä»¬ä½¿ç”¨node + mongodbå¼€å‘é¡¹ç›®çš„æ—¶å€™ï¼Œéœ€è¦ä¸¤ä¸ªå®¹å™¨æ¥è·‘åº”ç”¨ã€‚ç†ç”±å¦‚ä¸‹</p> <ol><li>æ•°æ®éš”ç¦»</li> <li>å•ç‹¬çš„å®¹å™¨å¯è®©æ‚¨éš”ç¦»ç‰ˆæœ¬å’Œæ›´æ–°ç‰ˆæœ¬</li> <li>æœ‰å¯èƒ½æœ¬åœ°å¼€å‘çš„æ—¶å€™éœ€è¦æœ¬åœ°ç‰ˆæœ¬ï¼ŒæœåŠ¡å™¨å¼€å‘çš„æ—¶å€™éœ€è¦æœåŠ¡å™¨ç‰ˆæœ¬ã€‚</li> <li>è¿è¡Œå¤šä¸ªè¿›ç¨‹å°†éœ€è¦ä¸€ä¸ªè¿›ç¨‹ç®¡ç†å™¨ï¼ˆå®¹å™¨ä»…å¯åŠ¨ä¸€ä¸ªè¿›ç¨‹ï¼‰ï¼Œè¿™å¢åŠ äº†å®¹å™¨å¯åŠ¨/å…³é—­çš„å¤æ‚æ€§</li></ol> <h3 id="å®¹å™¨ç½‘ç»œ"><a href="#å®¹å™¨ç½‘ç»œ" class="header-anchor">#</a> å®¹å™¨ç½‘ç»œ</h3> <p>å®¹å™¨é—´é€šè¿‡ç½‘ç»œè¿›è¡Œé€šä¿¡ï¼Œå¦‚æœä¸¤ä¸ªå®¹å™¨åœ¨åŒä¸€ä¸ªç½‘ç»œï¼Œé‚£ä¹ˆä»–ä»¬èƒ½é€šä¿¡ï¼Œå¦åˆ™ä¸å¯ä»¥ã€‚</p> <h3 id="å¼€å¯mysql"><a href="#å¼€å¯mysql" class="header-anchor">#</a> å¼€å¯MySQL</h3> <ol><li>åˆ›å»ºä¸€ä¸ªç½‘ç»œ <code>docker network create todo-app</code></li> <li>å¯åŠ¨ä¸€ä¸ªMySQLå®¹å™¨å¹¶å°†å…¶é™„åŠ åˆ°ç½‘ç»œ</li></ol> <div class="language-js line-numbers-mode"><pre class="language-js"><code>docker run <span class="token operator">-</span>d \
    <span class="token operator">--</span>network todo<span class="token operator">-</span>app <span class="token operator">--</span>network<span class="token operator">-</span>alias mysql \
    <span class="token operator">-</span>v todo<span class="token operator">-</span>mysql<span class="token operator">-</span>data<span class="token operator">:</span><span class="token operator">/</span><span class="token keyword">var</span><span class="token operator">/</span>lib<span class="token operator">/</span>mysql \
    <span class="token operator">-</span>e <span class="token constant">MYSQL_ROOT_PASSWORD</span><span class="token operator">=</span>secret \
    <span class="token operator">-</span>e <span class="token constant">MYSQL_DATABASE</span><span class="token operator">=</span>todos \
    mysql<span class="token operator">:</span><span class="token number">5.7</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><blockquote><p>æˆ‘ä»¬é€šè¿‡-v è¿æ¥äº†å·ï¼Œä½†æ˜¯æˆ‘ä»¬æ²¡æœ‰é€šè¿‡ <code>docker volume create todo-mysql-data</code>åˆ›å»ºå·ã€‚å®é™…ä¸Šï¼Œå½“æˆ‘ä»¬è¿è¡Œå‘½ä»¤çš„æ—¶å€™
dockerå‘ç°æˆ‘ä»¬æ²¡æœ‰<code>todo-mysql-data</code>ï¼Œä»–ä¼šç»™æˆ‘ä»¬åˆ›å»ºä¸€ä¸ªï¼Œå¹¶æŒ‚è½½ã€‚</p></blockquote> <ol start="3"><li>ç¡®è®¤ä¸‹æˆ‘ä»¬çš„æ•°æ®åº“æ˜¯å¦è¿è¡Œ <code>docker exec -it &lt;mysql-container-id&gt; mysql -p</code></li></ol> <ul><li>è¾“å…¥å¯†ç  <code>secret</code></li> <li>ç™»å½•åè¾“å…¥ <code>SHOW DATABASES;</code></li></ul> <h3 id="è¿æ¥åˆ°mysql"><a href="#è¿æ¥åˆ°mysql" class="header-anchor">#</a> è¿æ¥åˆ°MySQL</h3> <p>ä½¿ç”¨  <a href="https://github.com/nicolaka/netshoot" target="_blank" rel="noopener noreferrer">nicolaka/netshoot<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> å®¹å™¨ï¼Œè¿™ä¸ªå®¹å™¨æœ‰å¾ˆå¤šæœ‰ç”¨çš„ç½‘ç»œå·¥å…·</p> <ol><li>ä½¿ç”¨<code>nicolaka/netshoot</code>é•œåƒå¼€å¯ä¸€ä¸ªæ–°çš„å®¹å™¨ï¼Œç¡®ä¿å®ƒè¿æ¥åœ¨åŒä¸€ä¸ªç½‘ç»œ
<code>docker run -it --network todo-app nicolaka/netshoot</code></li> <li>è¾“å…¥<code>dig mysql</code> ï¼Œè¾“å‡º</li></ol> <div class="language- line-numbers-mode"><pre class="language-text"><code>
[1] ğŸ³  â†’ dig mysql

; &lt;&lt;&gt;&gt; DiG 9.14.12 &lt;&lt;&gt;&gt; mysql
;; global options: +cmd
;; Got answer:
;; -&gt;&gt;HEADER&lt;&lt;- opcode: QUERY, status: NOERROR, id: 3399
;; flags: qr rd ra; QUERY: 1, ANSWER: 1, AUTHORITY: 0, ADDITIONAL: 0

;; QUESTION SECTION:
;mysql.				IN	A

;; ANSWER SECTION:
mysql.			600	IN	A	172.18.0.2

;; Query time: 2 msec
;; SERVER: 127.0.0.11#53(127.0.0.11)
;; WHEN: Tue Feb 02 10:27:24 UTC 2021
;; MSG SIZE  rcvd: 44

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><p>ANSWER SECTION: ä¸‹çš„172.18.0.2å°±æ˜¯æˆ‘ä»¬çš„å®¹å™¨é€šè®¯ipã€‚</p> <p>è™½ç„¶mysqlä¸æ˜¯æœ‰æ•ˆçš„ä¸»æœºåï¼Œä½†æ˜¯DockerçŸ¥é“æ€ä¹ˆé€šè¿‡ä¸»æœºåè§£æåˆ°IPã€‚è¿™æ„å‘³ç€æˆ‘ä»¬è¦è¿æ¥åˆ°mysqlå®¹å™¨ï¼Œåªéœ€è¦çŸ¥é“åˆ«åå°±å¯ä»¥ã€‚</p> <h3 id="æŠŠåº”ç”¨çš„æ•°æ®åº“è¿æ¥åˆ°mysql"><a href="#æŠŠåº”ç”¨çš„æ•°æ®åº“è¿æ¥åˆ°mysql" class="header-anchor">#</a> æŠŠåº”ç”¨çš„æ•°æ®åº“è¿æ¥åˆ°Mysql</h3> <ul><li>MYSQL_HOST - the hostname for the running MySQL server</li> <li>MYSQL_USER - the username to use for the connection</li> <li>MYSQL_PASSWORD - the password to use for the connection</li> <li>MYSQL_DB - the database to use once connected</li></ul> <ol><li>æ‰§è¡Œä¸‹æ¥æ“ä½œ</li></ol> <div class="language-js line-numbers-mode"><pre class="language-js"><code>docker run <span class="token operator">-</span>dp <span class="token number">3000</span><span class="token operator">:</span><span class="token number">3000</span> \
  <span class="token operator">-</span>w <span class="token operator">/</span>app <span class="token operator">-</span>v <span class="token string">&quot;$(pwd):/app&quot;</span> \
  <span class="token operator">--</span>network todo<span class="token operator">-</span>app \
  <span class="token operator">-</span>e <span class="token constant">MYSQL_HOST</span><span class="token operator">=</span>mysql \
  <span class="token operator">-</span>e <span class="token constant">MYSQL_USER</span><span class="token operator">=</span>root \
  <span class="token operator">-</span>e <span class="token constant">MYSQL_PASSWORD</span><span class="token operator">=</span>secret \
  <span class="token operator">-</span>e <span class="token constant">MYSQL_DB</span><span class="token operator">=</span>todos \
  node<span class="token operator">:</span><span class="token number">12</span><span class="token operator">-</span>alpine \
  sh <span class="token operator">-</span>c <span class="token string">&quot;yarn install &amp;&amp; yarn run dev&quot;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><ol start="2"><li><p>æŸ¥çœ‹åº”ç”¨æ—¥å¿—  <code>docker logs &lt;container-id&gt;</code>ï¼Œä¼šçœ‹åˆ° Connected to mysql db at host mysql</p></li> <li><p>æ‰“å¼€http://localhost:3000/ï¼Œæ–°å¢å‡ ä¸ªtodo-item</p></li> <li><p>æŸ¥çœ‹æ•°æ®åº“æ•°æ® <code>docker exec -it &lt;mysql-container-id&gt; mysql -p todos</code></p></li></ol> <p>è¾“å…¥å¯†ç åï¼Œæ‰§è¡Œ <code>select * from todo_items;</code>å¯ä»¥çœ‹åˆ°æ‰“å°çš„æ•°æ®</p> <h2 id="å®¹å™¨ç»„åˆ"><a href="#å®¹å™¨ç»„åˆ" class="header-anchor">#</a> å®¹å™¨ç»„åˆ</h2> <ol><li>åœ¨appç›®å½•ä¸‹æ–°å»º <code>docker-compose.yml</code>ï¼Œè¾“å…¥ä¸‹åˆ—å‘½ä»¤</li></ol> <div class="language-yml line-numbers-mode"><pre class="language-yml"><code><span class="token key atrule">version</span><span class="token punctuation">:</span> <span class="token string">&quot;3.7&quot;</span>

<span class="token key atrule">services</span><span class="token punctuation">:</span>
  <span class="token key atrule">app</span><span class="token punctuation">:</span>
    <span class="token key atrule">image</span><span class="token punctuation">:</span> node<span class="token punctuation">:</span>12<span class="token punctuation">-</span>alpine
    <span class="token key atrule">command</span><span class="token punctuation">:</span> sh <span class="token punctuation">-</span>c &quot;yarn install <span class="token important">&amp;&amp;</span> yarn run dev&quot;
    <span class="token key atrule">ports</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> 3000<span class="token punctuation">:</span><span class="token number">3000</span>
    <span class="token key atrule">working_dir</span><span class="token punctuation">:</span> /app
    <span class="token key atrule">volumes</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> ./<span class="token punctuation">:</span>/app
    <span class="token key atrule">environment</span><span class="token punctuation">:</span>
      <span class="token key atrule">MYSQL_HOST</span><span class="token punctuation">:</span> mysql
      <span class="token key atrule">MYSQL_USER</span><span class="token punctuation">:</span> root
      <span class="token key atrule">MYSQL_PASSWORD</span><span class="token punctuation">:</span> secret
      <span class="token key atrule">MYSQL_DB</span><span class="token punctuation">:</span> todos

  <span class="token key atrule">mysql</span><span class="token punctuation">:</span>
    <span class="token key atrule">image</span><span class="token punctuation">:</span> mysql<span class="token punctuation">:</span><span class="token number">5.7</span>
    <span class="token key atrule">volumes</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> todo<span class="token punctuation">-</span>mysql<span class="token punctuation">-</span>data<span class="token punctuation">:</span>/var/lib/mysql
    <span class="token key atrule">environment</span><span class="token punctuation">:</span> 
      <span class="token key atrule">MYSQL_ROOT_PASSWORD</span><span class="token punctuation">:</span> secret
      <span class="token key atrule">MYSQL_DATABASE</span><span class="token punctuation">:</span> todos

<span class="token key atrule">volumes</span><span class="token punctuation">:</span>
  <span class="token key atrule">todo-mysql-data</span><span class="token punctuation">:</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br></div></div><ol start="2"><li><p>åˆ é™¤æˆ‘ä»¬å‰é¢å¯åŠ¨çš„å®¹å™¨</p></li> <li><p>æ‰§è¡Œ <code>docker-compose up -d</code>ï¼Œæ§åˆ¶å°æ‰“å°</p></li></ol> <div class="language- line-numbers-mode"><pre class="language-text"><code>Creating network &quot;app_default&quot; with the default driver
Creating volume &quot;app_todo-mysql-data&quot; with default driver
Creating app_app_1   ... done
Creating app_mysql_1 ... done
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><ol start="4"><li>æ‰§è¡Œ <code>docker-compose logs -f app</code>å¯ä»¥æŸ¥çœ‹æ—¥å¿—</li></ol> <h3 id="dockeré¢æ¿æ˜¾ç¤º"><a href="#dockeré¢æ¿æ˜¾ç¤º" class="header-anchor">#</a> Dockeré¢æ¿æ˜¾ç¤º</h3> <p>Dockeré¢æ¿å¯ä»¥çœ‹è§è¿è¡Œçš„appç»„ï¼Œè¿™ä¸ªåå­—é»˜è®¤æ˜¯docker-compose.ymlæ‰€åœ¨ç›®å½•çš„é¡¹ç›®åï¼Œå±•å¼€åå¯ä»¥çœ‹çœ‹è§</p> <p>ä¸¤ä¸ªå­å®¹å™¨ï¼Œåå­—æ˜¯ä»¥ <code>project-name&gt;_&lt;service-name&gt;_&lt;replica-number&gt;</code>ç»„æˆçš„ã€‚</p> <h3 id="æ‹†å¼€ç»„"><a href="#æ‹†å¼€ç»„" class="header-anchor">#</a> æ‹†å¼€ç»„</h3> <p>åœ¨appç›®å½•ä¸‹æ‰§è¡Œ <code>docker-compose down</code> ï¼Œæ‰€æœ‰å®¹å™¨å°†åœæ­¢ï¼Œç½‘ç»œè¢«ç§»é™¤ã€‚
ä½†æ˜¯volumesä¸ä¼šè¢«ç§»é™¤ï¼Œå¦‚æœéœ€è¦ç§»é™¤åˆ™åŠ ä¸Š --volumes</p> <h2 id="æ„å»ºé•œåƒçš„æœ€ä½³å®è·µ"><a href="#æ„å»ºé•œåƒçš„æœ€ä½³å®è·µ" class="header-anchor">#</a> æ„å»ºé•œåƒçš„æœ€ä½³å®è·µ</h2> <h3 id="å®‰å…¨æ‰«æ"><a href="#å®‰å…¨æ‰«æ" class="header-anchor">#</a> <a href="https://docs.docker.com/engine/scan/" target="_blank" rel="noopener noreferrer">å®‰å…¨æ‰«æ<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></h3> <p>å½“æ„å»ºé•œåƒçš„æ—¶å€™ä½¿ç”¨<code>docker scan</code>å‘½ä»¤è¿›è¡Œæ¼æ´æ£€æµ‹ã€‚</p> <p>ä¹Ÿå¯ä»¥åœ¨Docker Hubçš„é…ç½®ä¸­è®¾ç½®è‡ªåŠ¨æ‰«æã€‚</p> <h3 id="é•œåƒåˆ†å±‚"><a href="#é•œåƒåˆ†å±‚" class="header-anchor">#</a> é•œåƒåˆ†å±‚</h3> <ol><li><p>å¯ä»¥ä½¿ç”¨ <code>docker image history &lt;image-name&gt;</code>æŸ¥çœ‹é•œåƒåˆ†å±‚ã€‚ä½¿ç”¨æ­¤åŠŸèƒ½ï¼Œæ‚¨è¿˜å¯ä»¥å¿«é€ŸæŸ¥çœ‹æ¯ä¸ªåˆ†å±‚çš„å¤§å°ï¼Œä»è€Œå¸®åŠ©è¯Šæ–­å¤§é•œåƒã€‚</p></li> <li><p>ä½¿ç”¨ä¸Šé¢å‘½ä»¤çš„æ—¶å€™çœ‹è§æ•°æ®è¢«æŠ˜æ–­äº†ï¼Œå¯ä»¥ä½¿ç”¨ <code>docker image history --no-trunc getting-started</code>æ‰“å°å®Œæ•´çš„è¾“å‡ºã€‚</p></li></ol> <h3 id="åˆ†å±‚ç¼“å­˜"><a href="#åˆ†å±‚ç¼“å­˜" class="header-anchor">#</a> åˆ†å±‚ç¼“å­˜</h3> <p>å›¾å±‚æ›´æ”¹åï¼Œæ‰€æœ‰ä¸‹æ¸¸å›¾å±‚ä¹Ÿå¿…é¡»é‡æ–°åˆ›å»º</p></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      â†
      <a href="/view/Docker/1.html" class="prev">
        æ‰‹æ‘¸æ‰‹ Docker ä»å…¥é—¨åˆ°å®è·µ
      </a></span> <span class="next"><a href="/view/Docker/3.html">
        Docker æ„å»ºnodeæœåŠ¡
      </a>
      â†’
    </span></p></div> </main></div><div class="global-ui"><BackToTop></BackToTop></div></div>
    <script src="/assets/js/app.b7c38f08.js" defer></script><script src="/assets/js/2.1529f425.js" defer></script><script src="/assets/js/44.626a35fa.js" defer></script>
  </body>
</html>
